{"ast":null,"code":"// Navbar.js\nimport React,{useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=_ref=>{let{isAuthenticated,setIsAuthenticated,username,setUsernameSetter}=_ref;const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');const storedUsername=localStorage.getItem('username');if(token&&storedUsername){setIsAuthenticated(true);setUsernameSetter(storedUsername);}else{setIsAuthenticated(false);setUsernameSetter('');}},[setIsAuthenticated,setUsernameSetter]);const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('username');setIsAuthenticated(false);setUsernameSetter('');navigate('/signin');};return/*#__PURE__*/_jsx(\"nav\",{className:\"bg-gray-800 text-white p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-xl font-bold\",children:\"Movie Library\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"flex space-x-4\",children:isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"span\",{children:username})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/list\",children:\"Lists\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Sign In\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign Up\"})})]})})})]})});};export default Navbar;","map":{"version":3,"names":["React","useEffect","Link","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","_ref","isAuthenticated","setIsAuthenticated","username","setUsernameSetter","navigate","token","localStorage","getItem","storedUsername","handleLogout","removeItem","className","children","to","onClick"],"sources":["C:/Users/KRISHNA KUMAR/OneDrive/Desktop/movie-Library/frontend/src/components/Navbar.js"],"sourcesContent":["// Navbar.js\r\nimport React, { useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nconst Navbar = ({ isAuthenticated, setIsAuthenticated, username, setUsernameSetter }) => {\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        const storedUsername = localStorage.getItem('username');\r\n        if (token && storedUsername) {\r\n            setIsAuthenticated(true);\r\n            setUsernameSetter(storedUsername);\r\n        } else {\r\n            setIsAuthenticated(false);\r\n            setUsernameSetter('');\r\n        }\r\n    }, [setIsAuthenticated, setUsernameSetter]);\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('username');\r\n        setIsAuthenticated(false);\r\n        setUsernameSetter('');\r\n        navigate('/signin');\r\n    };\r\n\r\n    return (\r\n        <nav className=\"bg-gray-800 text-white p-4\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <Link to=\"/\" className=\"text-xl font-bold\">Movie Library</Link>\r\n                <div>\r\n                    <ul className=\"flex space-x-4\">\r\n                      \r\n                        {isAuthenticated ? (\r\n                            <>\r\n                                <li>\r\n                                    <span>{username}</span>\r\n                                </li>\r\n                                <li>\r\n                        <Link to=\"/list\">Lists</Link>\r\n                      </li>\r\n                                <li>\r\n                                    <button onClick={handleLogout}>Logout</button>\r\n                                </li>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <li>\r\n                                    <Link to=\"/signin\">Sign In</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/signup\">Sign Up</Link>\r\n                                </li>\r\n                            </>\r\n                        )}\r\n                       \r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAA0E,IAAzE,CAAEC,eAAe,CAAEC,kBAAkB,CAAEC,QAAQ,CAAEC,iBAAkB,CAAC,CAAAJ,IAAA,CAChF,KAAM,CAAAK,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAgB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,cAAc,CAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACvD,GAAIF,KAAK,EAAIG,cAAc,CAAE,CACzBP,kBAAkB,CAAC,IAAI,CAAC,CACxBE,iBAAiB,CAACK,cAAc,CAAC,CACrC,CAAC,IAAM,CACHP,kBAAkB,CAAC,KAAK,CAAC,CACzBE,iBAAiB,CAAC,EAAE,CAAC,CACzB,CACJ,CAAC,CAAE,CAACF,kBAAkB,CAAEE,iBAAiB,CAAC,CAAC,CAE3C,KAAM,CAAAM,YAAY,CAAGA,CAAA,GAAM,CACvBH,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC,CAChCJ,YAAY,CAACI,UAAU,CAAC,UAAU,CAAC,CACnCT,kBAAkB,CAAC,KAAK,CAAC,CACzBE,iBAAiB,CAAC,EAAE,CAAC,CACrBC,QAAQ,CAAC,SAAS,CAAC,CACvB,CAAC,CAED,mBACIX,IAAA,QAAKkB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACvCf,KAAA,QAAKc,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAC9CnB,IAAA,CAACH,IAAI,EAACuB,EAAE,CAAC,GAAG,CAACF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,cAC/DnB,IAAA,QAAAmB,QAAA,cACInB,IAAA,OAAIkB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAEzBZ,eAAe,cACZH,KAAA,CAAAF,SAAA,EAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,cACInB,IAAA,SAAAmB,QAAA,CAAOV,QAAQ,CAAO,CAAC,CACvB,CAAC,cACLT,IAAA,OAAAmB,QAAA,cACRnB,IAAA,CAACH,IAAI,EAACuB,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,CAC3B,CAAC,cACKnB,IAAA,OAAAmB,QAAA,cACInB,IAAA,WAAQqB,OAAO,CAAEL,YAAa,CAAAG,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC9C,CAAC,EACP,CAAC,cAEHf,KAAA,CAAAF,SAAA,EAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,cACInB,IAAA,CAACH,IAAI,EAACuB,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,SAAO,CAAM,CAAC,CACjC,CAAC,cACLnB,IAAA,OAAAmB,QAAA,cACInB,IAAA,CAACH,IAAI,EAACuB,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,SAAO,CAAM,CAAC,CACjC,CAAC,EACP,CACL,CAED,CAAC,CACJ,CAAC,EACL,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAd,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}