{"ast":null,"code":"import React,{useState,useEffect}from'react';import{createList,getLists,deleteList}from'../services/api';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateList=_ref=>{let{lists,setLists}=_ref;const[newListName,setNewListName]=useState('');const[isPublicList,setIsPublicList]=useState(true);useEffect(()=>{const fetchLists=async()=>{const data=await getLists();setLists(data);};fetchLists();},[setLists]);const handleCreateList=async e=>{e.preventDefault();try{const data=await createList({name:newListName,isPublic:isPublicList});setLists([...lists,data]);setNewListName('');}catch(error){console.error('Failed to create list:',error);}};const handleDeleteList=async listId=>{try{await deleteList(listId);setLists(lists.filter(list=>list._id!==listId));window.alert('List deleted successfully');}catch(error){console.error('Failed to delete list:',error);window.alert('Failed to delete list');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 \",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl flex justify-center mb-3\",children:\"Your List\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateList,className:\"flex justify-center md:grid-cols-1 items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"New List Name\",value:newListName,onChange:e=>setNewListName(e.target.value),className:\"p-2 border mr-2 rounded-full border-black placeholder:text-zinc-800 placeholder:opacity-80\"}),/*#__PURE__*/_jsxs(\"select\",{value:isPublicList,onChange:e=>setIsPublicList(e.target.value==='true'),className:\"p-2 border mr-2 rounded-full border-black\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Public\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Private\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 rounded-full text-white p-2\",children:\"Create List\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid  justify-center \",children:/*#__PURE__*/_jsx(\"ul\",{children:lists&&lists.map(list=>/*#__PURE__*/_jsx(\"div\",{className:\"border-x-2 border-y-2  mb-2   border-black\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between items-center w-96 bg-zinc-300 text-2xl\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/list/\".concat(list._id),className:\"text-blue-500\",children:[list.name,\" (\",list.isPublic?'Public':'Private',\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white p-2 rounded\",onClick:()=>handleDeleteList(list._id),children:\"Delete\"})]})},list._id))})})]});};export default CreateList;","map":{"version":3,"names":["React","useState","useEffect","createList","getLists","deleteList","Link","jsx","_jsx","jsxs","_jsxs","CreateList","_ref","lists","setLists","newListName","setNewListName","isPublicList","setIsPublicList","fetchLists","data","handleCreateList","e","preventDefault","name","isPublic","error","console","handleDeleteList","listId","filter","list","_id","window","alert","className","children","onSubmit","type","placeholder","value","onChange","target","map","to","concat","onClick"],"sources":["C:/Users/KRISHNA KUMAR/OneDrive/Desktop/movie-Library/frontend/src/pages/CreateList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { createList, getLists, deleteList } from '../services/api';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CreateList = ({ lists, setLists }) => {\r\n    const [newListName, setNewListName] = useState('');\r\n    const [isPublicList, setIsPublicList] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchLists = async () => {\r\n            const data = await getLists();\r\n            setLists(data);\r\n        };\r\n        fetchLists();\r\n    }, [setLists]);\r\n\r\n    const handleCreateList = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const data = await createList({ name: newListName, isPublic: isPublicList });\r\n            setLists([...lists, data]);\r\n            setNewListName('');\r\n        } catch (error) {\r\n            console.error('Failed to create list:', error);\r\n        }\r\n    };\r\n\r\n    const handleDeleteList = async (listId) => {\r\n        try {\r\n            await deleteList(listId);\r\n            setLists(lists.filter((list) => list._id !== listId));\r\n            window.alert('List deleted successfully');\r\n        } catch (error) {\r\n            console.error('Failed to delete list:', error);\r\n            window.alert('Failed to delete list');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='p-6'>\r\n            <div className=\"mb-6 \">\r\n                <h2 className='text-4xl flex justify-center mb-3'>Your List</h2>\r\n                <form onSubmit={handleCreateList} className=\"flex justify-center md:grid-cols-1 items-center\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"New List Name\"\r\n                        value={newListName}\r\n                        onChange={(e) => setNewListName(e.target.value)}\r\n                        className=\"p-2 border mr-2 rounded-full border-black placeholder:text-zinc-800 placeholder:opacity-80\"\r\n                    />\r\n                    <select\r\n                        value={isPublicList}\r\n                        onChange={(e) => setIsPublicList(e.target.value === 'true')}\r\n                        className=\"p-2 border mr-2 rounded-full border-black\"\r\n                    >\r\n                        <option value=\"true\">Public</option>\r\n                        <option value=\"false\">Private</option>\r\n                    </select>\r\n                    <button type=\"submit\" className=\"bg-blue-500 rounded-full text-white p-2\">\r\n                        Create List\r\n                    </button>\r\n                </form>\r\n            </div>\r\n            <div className='grid  justify-center '>\r\n            <ul>\r\n                {lists && lists.map((list) => (\r\n                    <div key={list._id} className=\"border-x-2 border-y-2  mb-2   border-black\">\r\n                        <li className=\"flex justify-between items-center w-96 bg-zinc-300 text-2xl\">\r\n                            <Link to={`/list/${list._id}`} className=\"text-blue-500\">\r\n                                {list.name} ({list.isPublic ? 'Public' : 'Private'})\r\n                            </Link>\r\n                            <button\r\n                                className=\"bg-red-500 text-white p-2 rounded\"\r\n                                onClick={() => handleDeleteList(list._id)}\r\n                            >\r\n                                Delete\r\n                            </button>\r\n                        </li>\r\n                    </div>\r\n                ))}\r\n            </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}