{"ast":null,"code":"import axios from'axios';const API_URL='https://backend-movie-265s.onrender.com/api';export const registerUser=async userData=>{try{const response=await axios.post(\"\".concat(API_URL,\"/users/register\"),userData);return response.data;}catch(error){if(error.response&&error.response.data){// Throw the error message returned by the API\nthrow new Error(error.response.data.message);}else{// Throw a generic error message\nthrow new Error('Registration failed. Please try again.');}}};export const loginUser=async userData=>{try{const response=await axios.post(\"\".concat(API_URL,\"/users/login\"),userData);return response.data;}catch(error){if(error.response&&error.response.data){// Throw the error message returned by the API\nthrow new Error(error.response.data.message||'Login failed');}else{// Throw a generic error message\nthrow new Error('Login failed. Please try again.');}}};export const searchMovies=async title=>{const response=await axios.get(\"\".concat(API_URL,\"/movies/search?title=\").concat(title),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});return response.data;};export const createList=async listData=>{try{const response=await axios.post(\"\".concat(API_URL,\"/lists\"),{name:listData.name,isPublic:listData.isPublic// Include the isPublic property\n},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});return response.data;}catch(error){console.error('Failed to create list:',error);throw error;}};export const getLists=async()=>{const response=await axios.get(\"\".concat(API_URL,\"/lists\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});return response.data;};export const addMovieToList=async(listId,movie)=>{const response=await axios.post(\"\".concat(API_URL,\"/lists/\").concat(listId),{movie},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});return response.data;};export const deleteMovieFromList=async(listId,movieId)=>{const response=await axios.delete(\"\".concat(API_URL,\"/lists/\").concat(listId,\"/movies/\").concat(movieId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});return response.data;};export const deleteList=async listId=>{const response=await axios.delete(\"\".concat(API_URL,\"/lists/\").concat(listId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});return response.data;};","map":{"version":3,"names":["axios","API_URL","registerUser","userData","response","post","concat","data","error","Error","message","loginUser","searchMovies","title","get","headers","Authorization","localStorage","getItem","createList","listData","name","isPublic","console","getLists","addMovieToList","listId","movie","deleteMovieFromList","movieId","delete","deleteList"],"sources":["C:/Users/KRISHNA KUMAR/OneDrive/Desktop/movie-Library/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'https://backend-movie-265s.onrender.com/api';\r\n\r\nexport const registerUser = async (userData) => {\r\n    try {\r\n        const response = await axios.post(`${API_URL}/users/register`, userData);\r\n        return response.data;\r\n    } catch (error) {\r\n        if (error.response && error.response.data) {\r\n            // Throw the error message returned by the API\r\n            throw new Error(error.response.data.message);\r\n        } else {\r\n            // Throw a generic error message\r\n            throw new Error('Registration failed. Please try again.');\r\n        }\r\n    }\r\n};\r\n\r\nexport const loginUser = async (userData) => {\r\n    try {\r\n        const response = await axios.post(`${API_URL}/users/login`, userData);\r\n        return response.data;\r\n    } catch (error) {\r\n        if (error.response && error.response.data) {\r\n            // Throw the error message returned by the API\r\n            throw new Error(error.response.data.message || 'Login failed');\r\n        } else {\r\n            // Throw a generic error message\r\n            throw new Error('Login failed. Please try again.');\r\n        }\r\n    }\r\n};\r\n\r\nexport const searchMovies = async (title) => {\r\n    const response = await axios.get(`${API_URL}/movies/search?title=${title}`, {\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n    });\r\n    return response.data;\r\n};\r\n\r\nexport const createList = async (listData) => {\r\n    try {\r\n        const response = await axios.post(`${API_URL}/lists`, {\r\n            name: listData.name,\r\n            isPublic: listData.isPublic, // Include the isPublic property\r\n        }, {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n        });\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Failed to create list:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const getLists = async () => {\r\n    const response = await axios.get(`${API_URL}/lists`, {\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n    });\r\n    return response.data;\r\n};\r\n\r\nexport const addMovieToList = async (listId, movie) => {\r\n    const response = await axios.post(`${API_URL}/lists/${listId}`, { movie }, {\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n    });\r\n    return response.data;\r\n};\r\n\r\nexport const deleteMovieFromList = async (listId, movieId) => {\r\n    const response = await axios.delete(`${API_URL}/lists/${listId}/movies/${movieId}`, {\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n        \r\n    });\r\n    return response.data;\r\n};\r\n\r\nexport const deleteList = async (listId) => {\r\n    const response = await axios.delete(`${API_URL}/lists/${listId}`, {\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n    });\r\n    return response.data;\r\n};\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}